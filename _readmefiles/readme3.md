---
title: Edmond's Castle
summary: Our intrepid narrator finds themselves trapped inside a malfunctioning castle. Can castles even malfunction?
layout: post
---

You never expect to be taken hostage in your own castle. Most people don't expect to be taken hostage anywhere. The Cromwells though, had a surprising number of hostage 
takers in the family.
<!--more-->
Lord Kent, towards the end of his life, took the families of his workers hostage to finish his ridiculous contraptions underneath Castle Cromwell.

"File description. List.c and List.h. Implementation of List ADT. Modified from pa1 to use pointers instead of integers as data."

His grandson, in turn, attempted a revolution against the current monarchy, taking the royal family hostage (albeit briefly). Lord Kent's grandson's grandson (my grandfather, 
Lord Edmond) took my uncle, William, hostage and locked him in the secret depths of Castle Cromwell. 

"File description. ListTest.c. Used for testing List.c and List.h. Create with ```make ListTest```."

The same castle I had inherited not but a few weeks ago. The same castle I had decided to renovate. The same castle whose renovations led to the freedom 
of William Cromwell. The same William Cromwell who showed me his gratitude by taking *me* hostage and reactivating the old machinery of Castle Cromwell.

"File description. Makefile. Used for making executables."

I was bound and gagged, moved in to the large central chamber underneath the castle. I'm surprised Lord Kent managed to fit anything down here. It's like a perfectly hollowed 
cavern with walls of cobblestone, all supported by a few stone pillars. I am sitting on some kind of central metal platform, about 2 meters in diameter. It looks like a giant cog.
There's a lever next to it. The walls are completely lined with boiler after boiler. They're all in close proximity and I can't even begin to count them.

"File description. Matrix.c and Matrix.h. Implementation of Matrix ADT using a dynamic array of Lists."

Castle Cromwell was built, surprisingly, right around the time when steam engines were all the rage. Of course, Lord Kent didn't exactly know how they worked, and so he made 
ridiculous demand after ridiculous demand. He was eventually bankrupted and executed for crimes against the monarchy. I'm honestly surprised my family hasn't had any of its 
titles revoked. Maybe because there is always at least one member sane enough to step in and apologize for the whole mess. 

"File description. MatrixTest.c. Used for testing Matrix.c and Matrix.h. Create with ```make MatrixTest```."

I think though, right now, that sane member is meant to be me. Not that I really want it. But I also can't really do much about it, as I am bound and gagged. I see some hope,
at least. I spy Jackeline, the private eye I had hired to investigate the disappearance of the two contractors I had hired to evaluate Castle Cromwell. You'll never guess
what happened after they discovered the secret labrynths under Castle Cromwell.

"File description. README. This file."

I think she may have figured out what happened faster than I did. My stunning realization only came as soon as I felt the cudgel bearing down on the back of my head. She's with
her assistant (sidekick?) Bill now. Over the hissing of the boilers, I can just about make out her saying something:

"Bill, go call the police. Tell them we have a hostage situation."

Bill starts running off, shouting. "Right! Wouldn't want our client to die. We need a payday!"

"And there's a human life at stake."

"Right, that too!" Bill vanishes around the corner.

I don't like Bill, for what I hope you can see are obvious reasons. William is still shouting words over the roar of burning coal and steam.

"File description. Sparse.c. The actual program for pa4. Create with ```make```."

Jackeline takes a step forward. "Lord Avery, are you alright?" I've found that I am able to make head motions, so I nod.

"You're too late!" I should probably mention, William has been trapped down here for a long time. I'm still trying to figure out how he survived for such a long time. But it also
explains why he doesn't have the self-awareness to realize he's making every villain monologue I've ever read. "The machine is nearly ready to be surfaced! My progenitor's legacy
will unfurl!" He's rushing towards me, and he's pulled the lever.

Nothing happens. Why would it? Lord Kent was an idiot. He didn't understand how the Steam Engine worked, much less how to make a moving castle out of it. That's what 
he was trying to do, by the way. He was interested in making a castle that could move purely by steam. Which explains why someone was building a *castle* long after 
the middle ages. It still doesn't make the whole premise a bad ide-

That's strange. The ground is rumbling. Jackeline's trying to speak over the noise: "William, I know you've had it rough! Ten years is a long time to be down here, for anyone by themselves!
Let us get you help!"

"No! I will kill the Cromwell bloodline! Edmond tried to get rid of me, but I am coming back, better than ever! I have seen every detail, fixed every machine. Watch as
Cromwell springs to life!" Maybe all he's had to read is Lord Kent's fiction collection (assuming Lord Kent had one)? It might explain why he's talking like this.
Jackeline is making slow, cautious steps towards us.

The rumbling grows louder. The platform I'm on begins to rise, and William hops on with me. I can also smell his stench. He has not taken a bath in over a decade.
I'm worrying more now, not for the stench, but because he might actually be getting close to killing me. I start screaming through my gag. It's not making much of a difference.

"./ListTest to run ListTest!"

"William, stop!" We're about 2 meters from the ground. Jackeline is running towards us now. The rumbles are getting louder.

"./MatrixTest to run MatrixTest!"

Holy crap, this thing can move! I can barely hear anything now, the rumbles are so great. We're about 4 meters up now. Jackeline is making a bee-line for the lever, 
since it's the only thing in this room mounted to the ground.

"You simpleton," William spits, "the process cannot be stopped! You might just as well stand back and witness history!"

The room starts getting even weirder. You tend to think of stonework as immutable, but it's all *moving*. The nearly-perfect round dome that we're approaching is... receding.
And the stone underneath our platform is rotating and tilting, somehow.

William laughs. "./Sparse takes two arguments!"

Jackeline is making an effort to pull the lever. But the thing is old, and it comes off in her hand. William is now grabbing something from his pockets. It's a knife.
I begin making an effort to inch away from my murderous uncle. The chair I'm bound to scoots ever so slowly off the platform. But it's not fast enough.

William doesn't seem to notice my attempts at escape. He's too busy gloating. "One input file, and one output file! ./Sparse \<input\> \<output\>!"

The platform jitters for a moment, and Jackeline is drawing her pistol. I hope she won't have to use it. I'm trying to make progress with the chair, when I notice that
there are holes opening up in the floor. I catch a glimpse inside, and I see a mess of pistons and gears. I pause for a moment, trying to think of the effort and dedication
it would take to design and build this kind of room. But I don't have time. We're 10 meters up now, and I still have a ways to go before I hurl my chair over the platform and
break all my bones. I focus on my task.

"make clean to clean the executable files!"

I'm so close to the edge. Jackeline is trying to both aim at my captor and not get swallowed into the opening floor. Then, everything just... stops. The platform suddenly halts.
The floor ceases its transmogrification. I thank whatever process has halted my execution (no matter how brief the interruption), and I continue moving towards the platform's edge.

"NO! NO!" William is looking at the floor below, at all the shifted stone and static boilers. Maybe he didn't get everything working. "I can fix it! I can get everything ready!
Mulligan! Mulligan!" He's leering over the side now. Maybe he's better at repair the further he is off ledges. I'd try to push him off, but I'm currently moving away from
my homicidal relative. "MULLIGAN! MULLIGAN! MULLIGAN!" He's chanting it now. And then, he jumps. Straight off the platform.

Jackeline and I watched as William purposefuly dove past the sea of stone and into the mess of gears and steam waiting just beneath the surface. I didn't look to see if he made it.
I didn't need to look.

I looked towards Jackeline, and she began to survey a way by which I could get down safely. Within a few moments, I was down, and it was over. All of it.